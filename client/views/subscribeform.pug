extends layoutpublic.pug

block content
    .container
        h2 Subscribe for tournament
        .media
            .media-left
                img(src=tournament.game.imageUrl ||
                "/img/male-profile-pic-placeholder.png")
            .media-body
                h4= tournament.game.name
                p date: #{tournament.date}
                p start time: #{tournament.starttime}
                p end time: #{tournament.endtime}
                p location: #{tournament.location}

                form(method='POST')
                    if subscriptionId
                        .form-group.hidden
                            label(for="subscriptionid") Subscription ID
                            input#subscriptionid.form-control(type="text", name="subscription_id",  value=subscriptionId)
                    .form-group.hidden
                        label(for="tournamentid") Player ID
                        input#tournamentid.form-control(type="text", name="tournament_id",  value=tournament.id)
                    .form-group.hidden
                        label(for="playerid") Player ID
                        input#playerid.form-control(type="text", name="player_id",  value=player.id)
                    .form-group
                        button#subscribe-button.btn.btn-success(type='submit') #{actiontournament}
        h2 Subscribed
        if attendees.length
            each attendee in attendees
                .media-left
                    img(src= attendee.imageUrl ||
                    "/img/male-profile-pic-placeholder.png")
                .media-body
                    br
                    h4= attendee.playername

        else
            p No attendees yet. Be the first!

